---
interface Props {
  label: string;
  topRightLabel?: string;
  name: string;
  defaultValue?: string;
  errors?: string[];
  type?: astroHTML.JSX.HTMLInputTypeAttribute;
}

const { label, name, errors = [], defaultValue = "", type = "text", topRightLabel } = Astro.props;
---

<div class="form-control w-full">
  <label class="label">
    <span class={`label-text ${errors.length ? "text-error" : ""} `}>{label}</span>
    {topRightLabel && <span class="label-text-alt">{topRightLabel}</span>}
  </label>
  <input
    value={defaultValue}
    type={type}
    name={name}
    class={`input input-bordered ${errors.length ? "input-error" : ""} w-full`}
  />
  {
    errors.length > 0 && (
      <div class="flex flex-col gap-1 my-2">
        {errors.map((error) => (
          <label class="label p-0">
            <span class="label-text-alt text-error m-0">{error}</span>
          </label>
        ))}
      </div>
    )
  }
</div>
